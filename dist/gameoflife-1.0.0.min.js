(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var Event=function(e){this.source=e,this.listeners=[]};Event.prototype={add:function(e){this.listeners.indexOf(e)<0&&this.listeners.push(e)},remove:function(e){var s=this.listeners.indexOf(e);s>-1&&this.listeners.splice(s,1)},fire:function(e){var s=this.source;this.listeners.forEach(function(t){t(s,e)})}},module.exports=Event;
},{}],2:[function(require,module,exports){
var Life=require("./life.js"),LifeView=require("./life-view.js"),Timer=require("./timer.js");!function(){"use strict";var e=document.getElementById("animCvs");e.width=500,e.height=500;var i=Life.from(100,100,function(){return Math.random()>.5?1:0});new LifeView(i,e);Timer.schedule(function(){i.next()})}();
},{"./life-view.js":3,"./life.js":4,"./timer.js":5}],3:[function(require,module,exports){
"use strict";var LifeView=function(i,e){this.life=i,this.canvas=e,this.life.changed.add(this.draw.bind(this))};LifeView.prototype={draw:function(i){var e=this.canvas.getContext("2d");e.clearRect(0,0,500,500),e.fillStyle="black";for(var t=0;t<i.cols();t++)for(var a=0;a<i.rows();a++){var r=this.life.cell(t,a);if(1===r){var l=5*t,s=5*a;e.fillRect(l,s,5,5)}}}},module.exports=LifeView;
},{}],4:[function(require,module,exports){
"use strict";var Event=require("./event.js"),Life=function(t){this.cells=t||[],this.changed=new Event(this)};Life.prototype={cols:function(){return this.cells.length},rows:function(){return this.cols()>0?this.cells[0].length:0},cell:function(t,e){var i=e>=0,n=t>=0,s=t<this.cols(),r=e<this.rows();return n&&s&&i&&r?this.cells[t][e]:0},next:function(){this.cells=this.cells.map(function(t,e){return t.map(function(t,i){var n=this.neighbors(e,i);switch(t){case 0:3===n&&(t=1);break;case 1:(n<2||n>3)&&(t=0)}return t},this)},this),this.changed.fire()},neighbors:function(t,e){return this.cell(t,e-1)+this.cell(t,e+1)+this.cell(t-1,e-1)+this.cell(t-1,e)+this.cell(t-1,e+1)+this.cell(t+1,e-1)+this.cell(t+1,e)+this.cell(t+1,e+1)}},Life.from=function(t,e,i){return new Life(Array.from({length:100},function(t){return Array.from({length:100},function(e){return i(t,e)})}))},module.exports=Life;
},{"./event.js":1}],5:[function(require,module,exports){
"use strict";var Timer=function(){function n(){for(var i=0;i<e.length;i++)e[i]();window.requestAnimationFrame(function(){n()})}var e=[];return n(),{schedule:function(n){e.indexOf(n)<0&&e.push(n)},cancel:function(n){var i=e.indexOf(n);i>-1&&e.splice(i,1)}}}();module.exports=Timer;
},{}]},{},[2]);
